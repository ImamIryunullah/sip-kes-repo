{"ast":null,"code":"import NavbarViewAdmin from '@/components/NavbarView.vue';\nimport ApiService from '@/service/api.js';\nexport default {\n  components: {\n    NavbarViewAdmin\n  },\n  data() {\n    return {\n      pengajuanList: [],\n      currentPage: 1,\n      itemsPerPage: 20\n    };\n  },\n  mounted() {\n    this.getPengajuan();\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.pengajuanList.length / this.itemsPerPage);\n    },\n    paginatedPengajuan() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      return this.pengajuanList.slice(start, start + this.itemsPerPage);\n    }\n  },\n  methods: {\n    getPengajuan() {\n      ApiService.getPengajuanSertifikat().then(response => {\n        this.pengajuanList = response.data;\n      }).catch(error => {\n        console.error(\"Gagal memuat data pengajuan:\", error);\n      });\n    },\n    updateStatus(id, status) {\n      ApiService.updatePengajuanStatus(id, status).then(() => {\n        this.getPengajuan();\n      }).catch(error => {\n        console.error(\"Gagal memperbarui status pengajuan:\", error);\n      });\n    },\n    getStatusClass(status) {\n      switch (status) {\n        case \"Diproses\":\n          return \"text-yellow-500\";\n        case \"Disetujui\":\n          return \"text-green-500\";\n        case \"Ditolak\":\n          return \"text-red-500\";\n        default:\n          return \"text-gray-500\";\n      }\n    },\n    nextPage() {\n      if (this.currentPage < this.totalPages) {\n        this.currentPage++;\n      }\n    },\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n      }\n    }\n  }\n};","map":{"version":3,"names":["NavbarViewAdmin","ApiService","components","data","pengajuanList","currentPage","itemsPerPage","mounted","getPengajuan","computed","totalPages","Math","ceil","length","paginatedPengajuan","start","slice","methods","getPengajuanSertifikat","then","response","catch","error","console","updateStatus","id","status","updatePengajuanStatus","getStatusClass","nextPage","prevPage"],"sources":["C:\\Users\\IMAM\\OneDrive\\Desktop\\LPKNI\\lpkniweb\\src\\views\\admin\\AdminPengajuan.vue"],"sourcesContent":["<template>\r\n    <div class=\"w-screen h-screen bg-gray-100\">\r\n      <!-- Navbar -->\r\n      <NavbarView />\r\n  \r\n      <!-- Header -->\r\n      <div class=\"flex justify-between items-center p-6 bg-white shadow-md\">\r\n        <h2 class=\"text-2xl font-semibold text-[#03a980]\">Daftar Pengajuan Sertifikat</h2>\r\n      </div>\r\n  \r\n      <!-- Table Daftar Pengajuan -->\r\n      <div class=\"p-8\">\r\n        <div class=\"bg-white p-6 rounded-lg shadow\">\r\n          <table class=\"w-full bg-white border border-gray-300 rounded-lg\">\r\n            <thead>\r\n              <tr class=\"border-b bg-gray-100\">\r\n                <th class=\"py-2 px-4 text-left\">ID</th>\r\n                <th class=\"py-2 px-4 text-left\">Nama</th>\r\n                <th class=\"py-2 px-4 text-left\">Jenis Sertifikat</th>\r\n                <th class=\"py-2 px-4 text-left\">Tanggal Pengajuan</th>\r\n                <th class=\"py-2 px-4 text-left\">Status</th>\r\n                <th class=\"py-2 px-4 text-left\">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"pengajuan in paginatedPengajuan\" :key=\"pengajuan.id\" class=\"border-b\">\r\n                <td class=\"py-2 px-4\">{{ pengajuan.id }}</td>\r\n                <td class=\"py-2 px-4\">{{ pengajuan.nama }}</td>\r\n                <td class=\"py-2 px-4\">{{ pengajuan.jenisSertifikat }}</td>\r\n                <td class=\"py-2 px-4\">{{ pengajuan.tanggalPengajuan }}</td>\r\n                <td class=\"py-2 px-4\">\r\n                  <span :class=\"getStatusClass(pengajuan.status)\">{{ pengajuan.status }}</span>\r\n                </td>\r\n                <td class=\"py-2 px-4 flex gap-2\">\r\n                  <button @click=\"updateStatus(pengajuan.id, 'Disetujui')\" class=\"text-green-500\">✔️</button>\r\n                  <button @click=\"updateStatus(pengajuan.id, 'Ditolak')\" class=\"text-red-500\">❌</button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n  \r\n          <!-- Pagination Controls -->\r\n          <div v-if=\"!showModal\" class=\"flex justify-center mt-6 space-x-2\">\r\n            <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"px-4 py-2 bg-[#03a980] text-white rounded-md hover:bg-[#028a66] disabled:opacity-50\">Previous</button>\r\n            <button v-for=\"page in totalPages\" :key=\"page\" @click=\"currentPage = page\" class=\"px-4 py-2 border rounded-md\" :class=\"currentPage === page ? 'bg-[#03a980] text-white' : 'bg-white text-black hover:bg-gray-200'\">{{ page }}</button>\r\n            <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"px-4 py-2 bg-[#03a980] text-white rounded-md hover:bg-[#028a66] disabled:opacity-50\">Next</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import NavbarViewAdmin from '@/components/NavbarView.vue';\r\n  import ApiService from '@/service/api.js';\r\n  \r\n  export default {\r\n    components: {\r\n      NavbarViewAdmin,\r\n    },\r\n    data() {\r\n      return {\r\n        pengajuanList: [],\r\n        currentPage: 1,\r\n        itemsPerPage: 20,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.getPengajuan();\r\n    },\r\n    computed: {\r\n      totalPages() {\r\n        return Math.ceil(this.pengajuanList.length / this.itemsPerPage);\r\n      },\r\n      paginatedPengajuan() {\r\n        const start = (this.currentPage - 1) * this.itemsPerPage;\r\n        return this.pengajuanList.slice(start, start + this.itemsPerPage);\r\n      },\r\n    },\r\n    methods: {\r\n      getPengajuan() {\r\n        ApiService.getPengajuanSertifikat()\r\n          .then(response => {\r\n            this.pengajuanList = response.data;\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Gagal memuat data pengajuan:\", error);\r\n          });\r\n      },\r\n      updateStatus(id, status) {\r\n        ApiService.updatePengajuanStatus(id, status)\r\n          .then(() => {\r\n            this.getPengajuan();\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Gagal memperbarui status pengajuan:\", error);\r\n          });\r\n      },\r\n      getStatusClass(status) {\r\n        switch (status) {\r\n          case \"Diproses\": return \"text-yellow-500\";\r\n          case \"Disetujui\": return \"text-green-500\";\r\n          case \"Ditolak\": return \"text-red-500\";\r\n          default: return \"text-gray-500\";\r\n        }\r\n      },\r\n      nextPage() {\r\n        if (this.currentPage < this.totalPages) {\r\n          this.currentPage++;\r\n        }\r\n      },\r\n      prevPage() {\r\n        if (this.currentPage > 1) {\r\n          this.currentPage--;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":"AAqDE,OAAOA,eAAc,MAAO,6BAA6B;AACzD,OAAOC,UAAS,MAAO,kBAAkB;AAEzC,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,EAAE;MACjBC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACR,aAAa,CAACS,MAAK,GAAI,IAAI,CAACP,YAAY,CAAC;IACjE,CAAC;IACDQ,kBAAkBA,CAAA,EAAG;MACnB,MAAMC,KAAI,GAAI,CAAC,IAAI,CAACV,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;MACxD,OAAO,IAAI,CAACF,aAAa,CAACY,KAAK,CAACD,KAAK,EAAEA,KAAI,GAAI,IAAI,CAACT,YAAY,CAAC;IACnE;EACF,CAAC;EACDW,OAAO,EAAE;IACPT,YAAYA,CAAA,EAAG;MACbP,UAAU,CAACiB,sBAAsB,CAAC,EAC/BC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAAChB,aAAY,GAAIgB,QAAQ,CAACjB,IAAI;MACpC,CAAC,EACAkB,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD,CAAC,CAAC;IACN,CAAC;IACDE,YAAYA,CAACC,EAAE,EAAEC,MAAM,EAAE;MACvBzB,UAAU,CAAC0B,qBAAqB,CAACF,EAAE,EAAEC,MAAM,EACxCP,IAAI,CAAC,MAAM;QACV,IAAI,CAACX,YAAY,CAAC,CAAC;MACrB,CAAC,EACAa,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D,CAAC,CAAC;IACN,CAAC;IACDM,cAAcA,CAACF,MAAM,EAAE;MACrB,QAAQA,MAAM;QACZ,KAAK,UAAU;UAAE,OAAO,iBAAiB;QACzC,KAAK,WAAW;UAAE,OAAO,gBAAgB;QACzC,KAAK,SAAS;UAAE,OAAO,cAAc;QACrC;UAAS,OAAO,eAAe;MACjC;IACF,CAAC;IACDG,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACxB,WAAU,GAAI,IAAI,CAACK,UAAU,EAAE;QACtC,IAAI,CAACL,WAAW,EAAE;MACpB;IACF,CAAC;IACDyB,QAAQA,CAAA,EAAG;MACT,IAAI,IAAI,CAACzB,WAAU,GAAI,CAAC,EAAE;QACxB,IAAI,CAACA,WAAW,EAAE;MACpB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}