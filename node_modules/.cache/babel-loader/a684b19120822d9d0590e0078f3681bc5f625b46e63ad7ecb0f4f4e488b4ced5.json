{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport NavbarPusat from '@/components/NavbarPusat.vue';\nimport ApiService from '@/service/api.js';\nexport default {\n  components: {\n    NavbarPusat\n  },\n  data() {\n    return {\n      users: [],\n      selectedFilter: \"\" // Untuk filter daftar pendaftaran\n    };\n  },\n  computed: {\n    filteredUsers() {\n      if (this.selectedFilter) {\n        return this.users.filter(user => user.jenisPendaftaran === this.selectedFilter);\n      }\n      return this.users;\n    }\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await ApiService.getPendingRegistrations();\n        this.users = response.data;\n      } catch (error) {\n        console.error(\"Gagal mengambil data pendaftaran:\", error);\n      }\n    },\n    async approveUser(userId) {\n      try {\n        await ApiService.approveUser(userId);\n        this.users = this.users.filter(user => user.id !== userId);\n        alert(\"Pendaftaran berhasil disetujui.\");\n      } catch (error) {\n        console.error(\"Gagal menyetujui user:\", error);\n      }\n    },\n    async rejectUser(userId) {\n      try {\n        await ApiService.rejectUser(userId);\n        this.users = this.users.filter(user => user.id !== userId);\n        alert(\"Pendaftaran telah ditolak.\");\n      } catch (error) {\n        console.error(\"Gagal menolak user:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchUsers();\n  }\n};","map":{"version":3,"names":["NavbarPusat","ApiService","components","data","users","selectedFilter","computed","filteredUsers","filter","user","jenisPendaftaran","methods","fetchUsers","response","getPendingRegistrations","error","console","approveUser","userId","id","alert","rejectUser","mounted"],"sources":["C:\\Users\\IMAM\\OneDrive\\Desktop\\LPKNI\\lpkniweb\\src\\views\\pusat\\RegisterPusatView.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-screen min-h-screen flex flex-col mt-10\">\r\n    <NavbarPusat />\r\n\r\n    <div class=\"flex flex-col items-center p-10 bg-gray-100 flex-grow\">\r\n      <div class=\"bg-white w-full max-w-4xl p-6 rounded-lg shadow-md\">\r\n        <h2 class=\"text-2xl font-semibold text-[#03a980] text-center mb-6\">Verifikasi Pendaftaran User</h2>\r\n        \r\n        <!-- Filter Jenis Pendaftaran -->\r\n        <div class=\"flex justify-between mb-4\">\r\n          <label class=\"text-gray-700\">Filter Jenis Pendaftaran:</label>\r\n          <select v-model=\"selectedFilter\" class=\"input-field w-1/3\">\r\n            <option value=\"\">Semua</option>\r\n            <option value=\"Wilayah\">Wilayah</option>\r\n            <option value=\"Daerah\">Daerah</option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- Tabel Pendaftaran -->\r\n        <table class=\"w-full border-collapse border border-gray-300\">\r\n          <thead class=\"bg-[#03a980] text-white\">\r\n            <tr>\r\n              <th class=\"py-2 px-4 border\">Nama</th>\r\n              <th class=\"py-2 px-4 border\">Jenis Pendaftaran</th>\r\n              <th class=\"py-2 px-4 border\">Provinsi</th>\r\n              <th class=\"py-2 px-4 border\">Kota/Kabupaten</th>\r\n              <th class=\"py-2 px-4 border\">Aksi</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"user in filteredUsers\" :key=\"user.id\" class=\"border\">\r\n              <td class=\"py-2 px-4\">{{ user.firstName }} {{ user.lastName }}</td>\r\n              <td class=\"py-2 px-4\">{{ user.jenisPendaftaran }}</td>\r\n              <td class=\"py-2 px-4\">{{ user.provinsi }}</td>\r\n              <td class=\"py-2 px-4\">{{ user.kotaKabupaten || '-' }}</td>\r\n              <td class=\"py-2 px-4 flex gap-2\">\r\n                <button @click=\"approveUser(user.id)\" class=\"bg-green-500 text-white px-4 py-1 rounded\">✔ Terima</button>\r\n                <button @click=\"rejectUser(user.id)\" class=\"bg-red-500 text-white px-4 py-1 rounded\">✖ Tolak</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <!-- Jika tidak ada pendaftaran -->\r\n        <p v-if=\"filteredUsers.length === 0\" class=\"text-center text-gray-500 mt-4\">\r\n          Tidak ada pendaftaran yang perlu diverifikasi.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavbarPusat from '@/components/NavbarPusat.vue';\r\nimport ApiService from '@/service/api.js';\r\n\r\nexport default {\r\n  components: {\r\n    NavbarPusat\r\n  },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      selectedFilter: \"\", // Untuk filter daftar pendaftaran\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      if (this.selectedFilter) {\r\n        return this.users.filter(user => user.jenisPendaftaran === this.selectedFilter);\r\n      }\r\n      return this.users;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await ApiService.getPendingRegistrations();\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error(\"Gagal mengambil data pendaftaran:\", error);\r\n      }\r\n    },\r\n    async approveUser(userId) {\r\n      try {\r\n        await ApiService.approveUser(userId);\r\n        this.users = this.users.filter(user => user.id !== userId);\r\n        alert(\"Pendaftaran berhasil disetujui.\");\r\n      } catch (error) {\r\n        console.error(\"Gagal menyetujui user:\", error);\r\n      }\r\n    },\r\n    async rejectUser(userId) {\r\n      try {\r\n        await ApiService.rejectUser(userId);\r\n        this.users = this.users.filter(user => user.id !== userId);\r\n        alert(\"Pendaftaran telah ditolak.\");\r\n      } catch (error) {\r\n        console.error(\"Gagal menolak user:\", error);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUsers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input-field {\r\n  @apply w-full p-2 border border-gray-300 rounded-lg bg-gray-100 focus:outline-none;\r\n}\r\n</style>\r\n"],"mappings":";;AAqDA,OAAOA,WAAU,MAAO,8BAA8B;AACtD,OAAOC,UAAS,MAAO,kBAAkB;AAEzC,eAAe;EACbC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,cAAc,EAAE,EAAE,CAAE;IACtB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,IAAI,IAAI,CAACF,cAAc,EAAE;QACvB,OAAO,IAAI,CAACD,KAAK,CAACI,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACC,gBAAe,KAAM,IAAI,CAACL,cAAc,CAAC;MACjF;MACA,OAAO,IAAI,CAACD,KAAK;IACnB;EACF,CAAC;EACDO,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMZ,UAAU,CAACa,uBAAuB,CAAC,CAAC;QAC3D,IAAI,CAACV,KAAI,GAAIS,QAAQ,CAACV,IAAI;MAC5B,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D;IACF,CAAC;IACD,MAAME,WAAWA,CAACC,MAAM,EAAE;MACxB,IAAI;QACF,MAAMjB,UAAU,CAACgB,WAAW,CAACC,MAAM,CAAC;QACpC,IAAI,CAACd,KAAI,GAAI,IAAI,CAACA,KAAK,CAACI,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACU,EAAC,KAAMD,MAAM,CAAC;QAC1DE,KAAK,CAAC,iCAAiC,CAAC;MAC1C,EAAE,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD;IACF,CAAC;IACD,MAAMM,UAAUA,CAACH,MAAM,EAAE;MACvB,IAAI;QACF,MAAMjB,UAAU,CAACoB,UAAU,CAACH,MAAM,CAAC;QACnC,IAAI,CAACd,KAAI,GAAI,IAAI,CAACA,KAAK,CAACI,MAAM,CAACC,IAAG,IAAKA,IAAI,CAACU,EAAC,KAAMD,MAAM,CAAC;QAC1DE,KAAK,CAAC,4BAA4B,CAAC;MACrC,EAAE,OAAOL,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC7C;IACF;EACF,CAAC;EACDO,OAAOA,CAAA,EAAG;IACR,IAAI,CAACV,UAAU,CAAC,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}