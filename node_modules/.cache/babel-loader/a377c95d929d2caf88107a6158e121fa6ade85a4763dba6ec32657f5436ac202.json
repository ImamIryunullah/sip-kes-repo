{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport FooterPortal from \"@/components/FooterPortal.vue\";\nimport NavbarPortalView from \"@/components/NavbarPortalView.vue\";\nimport ApiService from \"@/service/api.js\";\nexport default {\n  components: {\n    NavbarPortalView,\n    FooterPortal\n  },\n  data() {\n    return {\n      searchQuery: \"\",\n      selectedCategory: \"\",\n      categories: [\"Politik\", \"Olahraga\", \"Teknologi\", \"Nasional\", \"Internasional\"],\n      newsList: [],\n      showShareDropdown: null,\n      currentPage: 1,\n      itemsPerPage: 5,\n      isDarkMode: false\n    };\n  },\n  computed: {\n    filteredNews() {\n      return this.newsList.filter(news => news.title.toLowerCase().includes(this.searchQuery.toLowerCase()) && (this.selectedCategory ? news.category === this.selectedCategory : true));\n    },\n    paginatedNews() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      return this.filteredNews.slice(start, start + this.itemsPerPage);\n    },\n    totalPages() {\n      return Math.ceil(this.filteredNews.length / this.itemsPerPage);\n    }\n  },\n  mounted() {\n    this.fetchNews();\n  },\n  methods: {\n    fetchNews() {\n      ApiService.getNews().then(response => {\n        this.newsList = response.data.data;\n      }).catch(error => {\n        console.error(\"Gagal mengambil data berita:\", error);\n      });\n    },\n    getImagePath(imgPath) {\n      return imgPath ? `http://192.168.1.11:5000${imgPath}` : \"https://via.placeholder.com/150\";\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString(\"id-ID\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      });\n    },\n    toggleShareDropdown(newsId) {\n      this.showShareDropdown = this.showShareDropdown === newsId ? null : newsId;\n    },\n    shareNews(news, platform) {\n      const url = `${window.location.origin}/news/${news.id}`;\n      const shareUrl = platform === \"whatsapp\" ? `https://api.whatsapp.com/send?text=${encodeURIComponent(news.title + \" - \" + url)}` : platform === \"facebook\" ? `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}` : `https://twitter.com/intent/tweet?text=${encodeURIComponent(news.title)}&url=${encodeURIComponent(url)}`;\n      window.open(shareUrl, \"_blank\");\n    }\n  }\n};","map":{"version":3,"names":["FooterPortal","NavbarPortalView","ApiService","components","data","searchQuery","selectedCategory","categories","newsList","showShareDropdown","currentPage","itemsPerPage","isDarkMode","computed","filteredNews","filter","news","title","toLowerCase","includes","category","paginatedNews","start","slice","totalPages","Math","ceil","length","mounted","fetchNews","methods","getNews","then","response","catch","error","console","getImagePath","imgPath","formatDate","date","Date","toLocaleDateString","year","month","day","toggleShareDropdown","newsId","shareNews","platform","url","window","location","origin","id","shareUrl","encodeURIComponent","open"],"sources":["C:\\Users\\IMAM\\OneDrive\\Desktop\\LPKNI\\lpkniweb\\src\\views\\PortalBeritaView.vue"],"sourcesContent":["<template>\r\n  <div :class=\"{'dark': isDarkMode}\" class=\"w-screen bg-gray-100 dark:bg-gray-900\">\r\n    <NavbarPortalView />\r\n    \r\n    <!-- Search Bar -->\r\n    <div class=\"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center\">\r\n      <input v-model=\"searchQuery\" type=\"text\" placeholder=\"Cari berita...\" class=\"w-2/3 p-3 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-[#03a980]\" />\r\n      <select v-model=\"selectedCategory\" class=\"p-3 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-[#03a980]\">\r\n        <option value=\"\">Semua Kategori</option>\r\n        <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">{{ cat }}</option>\r\n      </select>\r\n    </div>\r\n    \r\n    <!-- Container utama dengan layout Tribunnews -->\r\n    <div class=\"max-w-6xl mx-auto py-6 px-4 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n      \r\n      <!-- Kolom Utama (Berita Terbaru) -->\r\n      <div class=\"md:col-span-2\">\r\n        <h2 class=\"text-3xl font-bold text-[#028a66] border-b-4 border-[#03a980] pb-2 mb-6 dark:text-white dark:border-[#028a66]\">Berita Terbaru</h2>\r\n        \r\n        <div v-for=\"news in paginatedNews\" :key=\"news.id\" class=\"relative flex items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md mb-4\">\r\n          <img :src=\"getImagePath(news.image_url)\" alt=\"Gambar Berita\" class=\"w-32 h-32 object-cover rounded-md mr-4\">\r\n          <div class=\"flex flex-col flex-grow\">\r\n            <h3 class=\"text-xl font-semibold text-[#333] dark:text-white\">{{ news.title }}</h3>\r\n            <p class=\"text-sm text-[#4f4f4f] dark:text-gray-400\">{{ news.description.substring(0, 100) }}...</p>\r\n            <span class=\"text-xs text-[#028a66] dark:text-[#03a980]\">{{ news.category }} â€¢ {{ formatDate(news.date) }}</span>\r\n            <router-link :to=\"`/news/${news.id}`\" class=\"text-[#0090ff] hover:text-[#028a66] text-sm font-medium block mt-2 dark:text-[#03a980]\">Baca Selengkapnya</router-link>\r\n          </div>\r\n          \r\n          <!-- Button Share -->\r\n          <div class=\"absolute top-3 right-3\">\r\n            <button @click=\"toggleShareDropdown(news.id)\" class=\"text-gray-600 text-lg hover:text-gray-800 dark:text-gray-400 dark:hover:text-white\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <circle cx=\"18\" cy=\"5\" r=\"3\"></circle>\r\n                <circle cx=\"6\" cy=\"12\" r=\"3\"></circle>\r\n                <circle cx=\"18\" cy=\"19\" r=\"3\"></circle>\r\n                <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"></line>\r\n                <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"></line>\r\n              </svg>\r\n            </button>\r\n\r\n            <div v-if=\"showShareDropdown === news.id\" class=\"absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg\">\r\n              <button @click=\"shareNews(news, 'whatsapp')\" class=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700\">WhatsApp</button>\r\n              <button @click=\"shareNews(news, 'facebook')\" class=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700\">Facebook</button>\r\n              <button @click=\"shareNews(news, 'twitter')\" class=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-200 dark:hover:bg-gray-700\">Twitter</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Sidebar (Rekomendasi dan Popular) -->\r\n      <div>\r\n        <h2 class=\"text-xl font-bold text-[#028a66] border-b-4 border-[#03a980] pb-2 mb-4 dark:text-white dark:border-[#028a66]\">Rekomendasi</h2>\r\n        \r\n        <div v-for=\"news in paginatedNews.slice(0, 5)\" :key=\"news.id\" class=\"mb-4\">\r\n          <router-link :to=\"`/news/${news.id}`\" class=\"flex items-center\">\r\n            <img :src=\"getImagePath(news.image_url)\" alt=\"Gambar Berita\" class=\"w-20 h-20 object-cover rounded-md mr-3\">\r\n            <p class=\"text-sm font-semibold text-[#333] dark:text-white\">{{ news.title }}</p>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Pagination -->\r\n    <div class=\"flex justify-center items-center mt-8 space-x-2\">\r\n      <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"px-4 py-2 bg-[#03a980] text-white rounded-md hover:bg-[#028a66] disabled:opacity-50 dark:bg-[#028a66] dark:hover:bg-[#03a980] disabled:dark:opacity-50\">Previous</button>\r\n      <button v-for=\"page in totalPages\" :key=\"page\" @click=\"currentPage = page\" class=\"px-4 py-2 border rounded-md\" :class=\"currentPage === page ? 'bg-[#03a980] text-white' : 'bg-white text-black hover:bg-gray-200 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-600'\">{{ page }}</button>\r\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"px-4 py-2 bg-[#03a980] text-white rounded-md hover:bg-[#028a66] disabled:opacity-50 dark:bg-[#028a66] dark:hover:bg-[#03a980] disabled:dark:opacity-50\">Next</button>\r\n    </div>\r\n  </div>\r\n  <FooterPortal />\r\n</template>\r\n\r\n<script>\r\nimport FooterPortal from \"@/components/FooterPortal.vue\";\r\nimport NavbarPortalView from \"@/components/NavbarPortalView.vue\";\r\nimport ApiService from \"@/service/api.js\";\r\n\r\nexport default {\r\n  components: {\r\n    NavbarPortalView,\r\n    FooterPortal\r\n  },\r\n  data() {\r\n    return {\r\n      searchQuery: \"\",\r\n      selectedCategory: \"\",\r\n      categories: [\"Politik\", \"Olahraga\", \"Teknologi\", \"Nasional\", \"Internasional\"],\r\n      newsList: [],\r\n      showShareDropdown: null,\r\n      currentPage: 1,\r\n      itemsPerPage: 5,\r\n      isDarkMode: false\r\n    };\r\n  },\r\n  computed: {\r\n    filteredNews() {\r\n      return this.newsList.filter(news =>\r\n        news.title.toLowerCase().includes(this.searchQuery.toLowerCase()) &&\r\n        (this.selectedCategory ? news.category === this.selectedCategory : true)\r\n      );\r\n    },\r\n    paginatedNews() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage;\r\n      return this.filteredNews.slice(start, start + this.itemsPerPage);\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.filteredNews.length / this.itemsPerPage);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchNews();\r\n  },\r\n  methods: {\r\n    fetchNews() {\r\n      ApiService.getNews()\r\n        .then(response => {\r\n          this.newsList = response.data.data;\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Gagal mengambil data berita:\", error);\r\n        });\r\n    },\r\n    getImagePath(imgPath) {\r\n      return imgPath ? `http://192.168.1.11:5000${imgPath}` : \"https://via.placeholder.com/150\";\r\n    },\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleDateString(\"id-ID\", { year: \"numeric\", month: \"long\", day: \"numeric\" });\r\n    },\r\n    toggleShareDropdown(newsId) {\r\n      this.showShareDropdown = this.showShareDropdown === newsId ? null : newsId;\r\n    },\r\n    shareNews(news, platform) {\r\n      const url = `${window.location.origin}/news/${news.id}`;\r\n      const shareUrl = platform === \"whatsapp\" ? `https://api.whatsapp.com/send?text=${encodeURIComponent(news.title + \" - \" + url)}`\r\n                      : platform === \"facebook\" ? `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`\r\n                      : `https://twitter.com/intent/tweet?text=${encodeURIComponent(news.title)}&url=${encodeURIComponent(url)}`;\r\n      window.open(shareUrl, \"_blank\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input-field {\r\n  @apply p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#03a980];\r\n}\r\n</style>\r\n"],"mappings":";;AA0EA,OAAOA,YAAW,MAAO,+BAA+B;AACxD,OAAOC,gBAAe,MAAO,mCAAmC;AAChE,OAAOC,UAAS,MAAO,kBAAkB;AAEzC,eAAe;EACbC,UAAU,EAAE;IACVF,gBAAgB;IAChBD;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAE,EAAE;MACpBC,UAAU,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,eAAe,CAAC;MAC7EC,QAAQ,EAAE,EAAE;MACZC,iBAAiB,EAAE,IAAI;MACvBC,WAAW,EAAE,CAAC;MACdC,YAAY,EAAE,CAAC;MACfC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACN,QAAQ,CAACO,MAAM,CAACC,IAAG,IAC7BA,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACd,WAAW,CAACa,WAAW,CAAC,CAAC,MAC/D,IAAI,CAACZ,gBAAe,GAAIU,IAAI,CAACI,QAAO,KAAM,IAAI,CAACd,gBAAe,GAAI,IAAI,CACzE,CAAC;IACH,CAAC;IACDe,aAAaA,CAAA,EAAG;MACd,MAAMC,KAAI,GAAI,CAAC,IAAI,CAACZ,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,YAAY;MACxD,OAAO,IAAI,CAACG,YAAY,CAACS,KAAK,CAACD,KAAK,EAAEA,KAAI,GAAI,IAAI,CAACX,YAAY,CAAC;IAClE,CAAC;IACDa,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACZ,YAAY,CAACa,MAAK,GAAI,IAAI,CAAChB,YAAY,CAAC;IAChE;EACF,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACV3B,UAAU,CAAC6B,OAAO,CAAC,EAChBC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACzB,QAAO,GAAIyB,QAAQ,CAAC7B,IAAI,CAACA,IAAI;MACpC,CAAC,EACA8B,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD,CAAC,CAAC;IACN,CAAC;IACDE,YAAYA,CAACC,OAAO,EAAE;MACpB,OAAOA,OAAM,GAAI,2BAA2BA,OAAO,EAAC,GAAI,iCAAiC;IAC3F,CAAC;IACDC,UAAUA,CAACC,IAAI,EAAE;MACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE;MAAU,CAAC,CAAC;IACvG,CAAC;IACDC,mBAAmBA,CAACC,MAAM,EAAE;MAC1B,IAAI,CAACtC,iBAAgB,GAAI,IAAI,CAACA,iBAAgB,KAAMsC,MAAK,GAAI,IAAG,GAAIA,MAAM;IAC5E,CAAC;IACDC,SAASA,CAAChC,IAAI,EAAEiC,QAAQ,EAAE;MACxB,MAAMC,GAAE,GAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,SAASrC,IAAI,CAACsC,EAAE,EAAE;MACvD,MAAMC,QAAO,GAAIN,QAAO,KAAM,UAAS,GAAI,sCAAsCO,kBAAkB,CAACxC,IAAI,CAACC,KAAI,GAAI,KAAI,GAAIiC,GAAG,CAAC,EAAC,GAC5GD,QAAO,KAAM,UAAS,GAAI,gDAAgDO,kBAAkB,CAACN,GAAG,CAAC,EAAC,GAClG,yCAAyCM,kBAAkB,CAACxC,IAAI,CAACC,KAAK,CAAC,QAAQuC,kBAAkB,CAACN,GAAG,CAAC,EAAE;MAC1HC,MAAM,CAACM,IAAI,CAACF,QAAQ,EAAE,QAAQ,CAAC;IACjC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}