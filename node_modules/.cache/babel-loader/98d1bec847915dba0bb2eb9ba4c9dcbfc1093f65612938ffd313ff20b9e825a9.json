{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport NavbarUser from '@/components/NavbarUser.vue';\nexport default {\n  components: {\n    NavbarUser\n  },\n  data() {\n    return {\n      newMessage: \"\",\n      messages: [{\n        text: \"Halo! Ada yang bisa dibantu?\",\n        time: this.getCurrentTime(),\n        isUser: false\n      }],\n      contactChoice: null,\n      messageOptions: []\n    };\n  },\n  methods: {\n    // Fungsi untuk memilih tujuan kontak\n    selectContact(contact) {\n      this.contactChoice = contact;\n      if (contact === \"admin\") {\n        this.messageOptions = [{\n          text: \"Saya ingin bertanya tentang akun saya.\",\n          sent: false\n        }, {\n          text: \"Saya mengalami kesulitan teknis.\",\n          sent: false\n        }, {\n          text: \"Ada masalah dengan layanan.\",\n          sent: false\n        }];\n      } else if (contact === \"pusat\") {\n        this.messageOptions = [{\n          text: \"Saya ingin melaporkan masalah.\",\n          sent: false\n        }, {\n          text: \"Saya ingin tahu informasi terbaru.\",\n          sent: false\n        }, {\n          text: \"Ada pertanyaan tentang layanan.\",\n          sent: false\n        }];\n      }\n    },\n    // Fungsi untuk memulai chat dengan memilih kalimat\n    startChat(option, index) {\n      if (!option.sent) {\n        // Menambahkan pesan yang dipilih ke dalam chat\n        this.messages.push({\n          text: option.text,\n          time: this.getCurrentTime(),\n          isUser: true\n        });\n\n        // Menandai opsi sebagai terkirim\n        this.messageOptions[index].sent = true;\n\n        // Menghapus dua opsi yang belum dipilih\n        this.messageOptions = [];\n\n        // Simulasi balasan dari admin\n        setTimeout(() => {\n          this.messages.push({\n            text: \"Terima kasih, kami akan segera memproses permintaan Anda.\",\n            time: this.getCurrentTime(),\n            isUser: false\n          });\n          this.scrollToBottom();\n        }, 1000);\n        this.scrollToBottom();\n      }\n    },\n    sendMessage() {\n      if (this.newMessage.trim() !== \"\") {\n        this.messages.push({\n          text: this.newMessage,\n          time: this.getCurrentTime(),\n          isUser: true\n        });\n        setTimeout(() => {\n          this.messages.push({\n            text: \"Admin sedang online, harap tunggu sebentar.\",\n            time: this.getCurrentTime(),\n            isUser: false\n          });\n          this.scrollToBottom();\n        }, 1000);\n        this.newMessage = \"\";\n        this.scrollToBottom();\n      }\n    },\n    getCurrentTime() {\n      const now = new Date();\n      return now.getHours() + \":\" + now.getMinutes().toString().padStart(2, \"0\");\n    },\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const chatContainer = this.$refs.chatContainer;\n        if (chatContainer) {\n          chatContainer.scrollTop = chatContainer.scrollHeight;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavbarUser","components","data","newMessage","messages","text","time","getCurrentTime","isUser","contactChoice","messageOptions","methods","selectContact","contact","sent","startChat","option","index","push","setTimeout","scrollToBottom","sendMessage","trim","now","Date","getHours","getMinutes","toString","padStart","$nextTick","chatContainer","$refs","scrollTop","scrollHeight"],"sources":["C:\\Users\\IMAM\\OneDrive\\Desktop\\LPKNI\\lpkniweb\\src\\views\\ChatMulaiVIew.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-screen h-screen flex flex-col bg-gray-100 mt-12\">\r\n    <!-- Navbar -->\r\n    <NavbarUser />\r\n\r\n    <!-- Pilihan Tujuan Kontak -->\r\n    <div v-if=\"!contactChoice\" class=\"flex flex-col justify-center items-center p-8 space-y-6\">\r\n      <h3 class=\"text-xl font-semibold\">Ingin Menghubungi Siapa</h3>\r\n      <div class=\"space-x-4 md:space-x-6 flex flex-col sm:flex-row gap-4\">\r\n        <button \r\n          @click=\"selectContact('admin')\" \r\n          class=\"px-6 py-2 bg-[#03a980] text-white rounded-lg hover:bg-[#028a66] w-full sm:w-auto\">\r\n          Hubungi Admin\r\n        </button>\r\n        <button \r\n          @click=\"selectContact('pusat')\" \r\n          class=\"px-6 py-2 bg-[#03a980] text-white rounded-lg hover:bg-[#028a66] w-full sm:w-auto\">\r\n          Hubungi Pusat\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Pilihan Kalimat untuk Memulai Percakapan -->\r\n    <div v-if=\"contactChoice && messageOptions.length > 0\" class=\"flex flex-col justify-center items-center p-8 space-y-6\">\r\n      <div class=\"space-x-4 md:space-x-6 flex flex-col sm:flex-row gap-4\">\r\n        <button \r\n          v-for=\"(option, index) in messageOptions\" \r\n          :key=\"index\" \r\n          @click=\"startChat(option, index)\" \r\n          :disabled=\"option.sent\"  \r\n          class=\"px-6 py-2 bg-[#03a980] text-white rounded-lg hover:bg-[#028a66] w-full sm:w-auto\"\r\n        >\r\n          {{ option.text }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Chat Container -->\r\n    <div v-if=\"contactChoice\" class=\"px-8 py-4 flex flex-col flex-grow p-4 overflow-y-auto mt-8\" ref=\"chatContainer\">\r\n      <div v-for=\"(message, index) in messages\" :key=\"index\" class=\"mb-4 flex\" :class=\"{'justify-end': message.isUser}\">\r\n        <div class=\"max-w-[75%] md:max-w-[60%] p-3 rounded-lg shadow-md\" :class=\"message.isUser ? 'bg-[#03a980] text-white' : 'bg-white'\">\r\n          <p class=\"text-sm\">{{ message.text }}</p>\r\n          <p class=\"text-xs text-gray-400 mt-1 text-right\">{{ message.time }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Input Chat -->\r\n    <div v-if=\"contactChoice\" class=\"flex items-center bg-white p-3 border-t\">\r\n      <input \r\n        v-model=\"newMessage\" \r\n        type=\"text\" \r\n        placeholder=\"Ketik pesan...\" \r\n        class=\"flex-grow px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#03a980]\"\r\n        @keyup.enter=\"sendMessage\"\r\n      />\r\n      <button @click=\"sendMessage\" class=\"ml-2 px-4 py-2 bg-[#03a980] text-white rounded-lg hover:bg-[#028a66] transition\">\r\n        Kirim\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavbarUser from '@/components/NavbarUser.vue';\r\n\r\nexport default {\r\n  components: {\r\n    NavbarUser\r\n  },\r\n  data() {\r\n    return {\r\n      newMessage: \"\",\r\n      messages: [\r\n        { text: \"Halo! Ada yang bisa dibantu?\", time: this.getCurrentTime(), isUser: false }\r\n      ],\r\n      contactChoice: null, \r\n      messageOptions: [], \r\n    };\r\n  },\r\n  methods: {\r\n    // Fungsi untuk memilih tujuan kontak\r\n    selectContact(contact) {\r\n      this.contactChoice = contact;\r\n      if (contact === \"admin\") {\r\n        this.messageOptions = [\r\n          { text: \"Saya ingin bertanya tentang akun saya.\", sent: false },\r\n          { text: \"Saya mengalami kesulitan teknis.\", sent: false },\r\n          { text: \"Ada masalah dengan layanan.\", sent: false }\r\n        ];\r\n      } else if (contact === \"pusat\") {\r\n        this.messageOptions = [\r\n          { text: \"Saya ingin melaporkan masalah.\", sent: false },\r\n          { text: \"Saya ingin tahu informasi terbaru.\", sent: false },\r\n          { text: \"Ada pertanyaan tentang layanan.\", sent: false }\r\n        ];\r\n      }\r\n    },\r\n    // Fungsi untuk memulai chat dengan memilih kalimat\r\n    startChat(option, index) {\r\n        if (!option.sent) {\r\n          // Menambahkan pesan yang dipilih ke dalam chat\r\n          this.messages.push({ text: option.text, time: this.getCurrentTime(), isUser: true });\r\n\r\n          // Menandai opsi sebagai terkirim\r\n          this.messageOptions[index].sent = true;\r\n\r\n          // Menghapus dua opsi yang belum dipilih\r\n          this.messageOptions = [];\r\n\r\n          // Simulasi balasan dari admin\r\n          setTimeout(() => {\r\n            this.messages.push({ text: \"Terima kasih, kami akan segera memproses permintaan Anda.\", time: this.getCurrentTime(), isUser: false });\r\n            this.scrollToBottom();\r\n          }, 1000);\r\n\r\n          this.scrollToBottom();\r\n        }\r\n      },\r\n    sendMessage() {\r\n      if (this.newMessage.trim() !== \"\") {\r\n        this.messages.push({ text: this.newMessage, time: this.getCurrentTime(), isUser: true });\r\n        setTimeout(() => {\r\n          this.messages.push({ text: \"Admin sedang online, harap tunggu sebentar.\", time: this.getCurrentTime(), isUser: false });\r\n          this.scrollToBottom();\r\n        }, 1000);\r\n        this.newMessage = \"\";\r\n        this.scrollToBottom();\r\n      }\r\n    },\r\n    getCurrentTime() {\r\n      const now = new Date();\r\n      return now.getHours() + \":\" + now.getMinutes().toString().padStart(2, \"0\");\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const chatContainer = this.$refs.chatContainer;\r\n        if (chatContainer) {\r\n          chatContainer.scrollTop = chatContainer.scrollHeight;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Responsif untuk layar kecil */\r\n@media screen and (max-width: 768px) {\r\n  .space-x-4 {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n\r\n  .text-xl {\r\n    font-size: 1.25rem;\r\n  }\r\n\r\n  .text-sm {\r\n    font-size: 0.875rem;\r\n  }\r\n\r\n  .p-4 {\r\n    padding: 0.75rem;\r\n  }\r\n\r\n  .py-2 {\r\n    padding-top: 0.5rem;\r\n    padding-bottom: 0.5rem;\r\n  }\r\n\r\n  .px-4 {\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}