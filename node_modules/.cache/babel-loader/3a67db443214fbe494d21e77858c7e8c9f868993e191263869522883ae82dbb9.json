{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport NavbarPusat from '@/components/NavbarPusat.vue';\nexport default {\n  components: {\n    NavbarPusat\n  },\n  data() {\n    return {\n      filters: [\"Hari ini\", \"7 hari terakhir\", \"28 hari terakhir\", \"Perbulan\", \"Pertahun\"],\n      activeFilter: \"7 hari terakhir\",\n      lastUpdated: new Date().toLocaleString(),\n      searchQuery: '',\n      selectedCategory: '',\n      transactionCategories: ['Pembelian', 'Gaji', 'Tagihan'],\n      transactions: [] // Akan diambil dari user sebelumnya\n    };\n  },\n  computed: {\n    // Mengambil transaksi yang sesuai dengan pencarian dan kategori\n    filteredTransactions() {\n      return this.transactions.filter(transaction => {\n        const matchesQuery = this.searchQuery === '' || transaction.description.toLowerCase().includes(this.searchQuery.toLowerCase());\n        const matchesCategory = this.selectedCategory === '' || transaction.category === this.selectedCategory;\n        return matchesQuery && matchesCategory;\n      });\n    },\n    // Total pemasukan\n    totalIncome() {\n      const income = this.transactions.filter(t => t.amount > 0);\n      return this.formatCurrency(income.reduce((acc, curr) => acc + curr.amount, 0));\n    },\n    // Total pengeluaran\n    totalExpense() {\n      const expense = this.transactions.filter(t => t.amount < 0);\n      return this.formatCurrency(expense.reduce((acc, curr) => acc + curr.amount, 0));\n    }\n  },\n  methods: {\n    setActiveFilter(filter) {\n      this.activeFilter = filter;\n    },\n    formatCurrency(amount) {\n      return new Intl.NumberFormat('id-ID', {\n        style: 'currency',\n        currency: 'IDR'\n      }).format(amount);\n    },\n    getAmountClass(amount) {\n      return amount < 0 ? 'text-red-500' : 'text-green-500';\n    },\n    // Fungsi untuk mendapatkan transaksi dari user sebelumnya\n    async fetchUserTransactions() {\n      try {\n        // **Jika menggunakan backend API**\n        // const response = await fetch('/api/transactions'); \n        // this.transactions = await response.json();\n\n        // **Jika menggunakan Vuex atau state global**\n        // this.transactions = this.$store.state.transactions;\n\n        // **Contoh data transaksi dummy**\n        this.transactions = [{\n          id: 1,\n          date: '2025-02-10',\n          description: 'Pembelian Barang',\n          amount: 1500000,\n          category: 'Pembelian'\n        }, {\n          id: 2,\n          date: '2025-02-12',\n          description: 'Pembayaran Gaji',\n          amount: -5000000,\n          category: 'Gaji'\n        }, {\n          id: 3,\n          date: '2025-02-15',\n          description: 'Pembayaran Listrik',\n          amount: -250000,\n          category: 'Tagihan'\n        }];\n      } catch (error) {\n        console.error(\"Gagal mengambil data transaksi:\", error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchUserTransactions();\n  }\n};","map":{"version":3,"names":["NavbarPusat","components","data","filters","activeFilter","lastUpdated","Date","toLocaleString","searchQuery","selectedCategory","transactionCategories","transactions","computed","filteredTransactions","filter","transaction","matchesQuery","description","toLowerCase","includes","matchesCategory","category","totalIncome","income","t","amount","formatCurrency","reduce","acc","curr","totalExpense","expense","methods","setActiveFilter","Intl","NumberFormat","style","currency","format","getAmountClass","fetchUserTransactions","id","date","error","console","mounted"],"sources":["C:\\Users\\IMAM\\OneDrive\\Desktop\\LPKNI\\lpkniweb\\src\\views\\pusat\\DataGrafikView.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full min-h-screen bg-gray-100 pt-20 mb-8\">\r\n    <NavbarPusat />\r\n\r\n    <!-- Filter Waktu (Dropdown) -->\r\n    <div class=\"flex justify-center mt-6\">\r\n      <select\r\n        v-model=\"activeFilter\"\r\n        @change=\"setActiveFilter(activeFilter)\"\r\n        class=\"px-4 py-2 text-sm font-semibold bg-white border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#03a980]\"\r\n      >\r\n        <option v-for=\"filter in filters\" :key=\"filter\" :value=\"filter\">\r\n          {{ filter }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n\r\n    <!-- Ringkasan Keuangan -->\r\n    <div class=\"flex justify-center mt-6\">\r\n      <div class=\"grid grid-cols-1 sm:grid-cols-2 gap-8 w-[90%] md:w-[80%]\">\r\n        <!-- Ringkasan Pemasukan -->\r\n        <div class=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h3 class=\"text-lg font-semibold\">Ringkasan Pemasukan</h3>\r\n          <p class=\"text-gray-500 text-sm\">Terakhir diperbarui {{ lastUpdated }}</p>\r\n          <h2 class=\"text-2xl font-bold text-black mt-2\">{{ totalIncome }}</h2>\r\n          <p class=\"text-gray-500 text-sm\">Pemasukan dalam {{ activeFilter }}</p>\r\n        </div>\r\n\r\n        <!-- Ringkasan Pengeluaran -->\r\n        <div class=\"bg-white p-6 rounded-lg shadow-md\">\r\n          <h3 class=\"text-lg font-semibold\">Ringkasan Pengeluaran</h3>\r\n          <p class=\"text-gray-500 text-sm\">Terakhir diperbarui {{ lastUpdated }}</p>\r\n          <h2 class=\"text-2xl font-bold text-black mt-2\">{{ totalExpense }}</h2>\r\n          <p class=\"text-gray-500 text-sm\">Pengeluaran dalam {{ activeFilter }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Riwayat Transaksi -->\r\n    <div class=\"flex justify-center mt-6\">\r\n      <div class=\"bg-white p-6 rounded-lg shadow-md w-full sm:w-[90%] md:w-[80%]\">\r\n        <h3 class=\"text-lg font-semibold mb-4\">Riwayat Transaksi</h3>\r\n\r\n        <!-- Filter Transaksi -->\r\n        <div class=\"flex flex-col sm:flex-row justify-between mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"searchQuery\"\r\n            placeholder=\"Cari transaksi...\"\r\n            class=\"w-full sm:w-1/3 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#03a980] mb-4 sm:mb-0\"\r\n          />\r\n          <select v-model=\"selectedCategory\" class=\"w-full sm:w-1/3 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#03a980]\">\r\n            <option value=\"\">Semua Kategori</option>\r\n            <option v-for=\"category in transactionCategories\" :key=\"category\" :value=\"category\">\r\n              {{ category }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- Tabel Riwayat -->\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"min-w-full table-auto border-collapse border border-gray-300\">\r\n            <thead class=\"bg-[#03a980] text-white\">\r\n              <tr>\r\n                <th class=\"py-2 px-4 border\">Tanggal</th>\r\n                <th class=\"py-2 px-4 border\">Deskripsi</th>\r\n                <th class=\"py-2 px-4 border\">Jumlah</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"transaction in filteredTransactions\" :key=\"transaction.id\" class=\"border\">\r\n                <td class=\"py-2 px-4\">{{ transaction.date }}</td>\r\n                <td class=\"py-2 px-4\">{{ transaction.description }}</td>\r\n                <td class=\"py-2 px-4 font-semibold\" :class=\"getAmountClass(transaction.amount)\">\r\n                  {{ formatCurrency(transaction.amount) }}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Jika Tidak Ada Transaksi -->\r\n        <p v-if=\"filteredTransactions.length === 0\" class=\"text-center text-gray-500 mt-4\">\r\n          Tidak ada transaksi yang sesuai dengan filter.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavbarPusat from '@/components/NavbarPusat.vue';\r\n\r\nexport default {\r\n  components: {\r\n    NavbarPusat\r\n  },\r\n  data() {\r\n    return {\r\n      filters: [\"Hari ini\", \"7 hari terakhir\", \"28 hari terakhir\", \"Perbulan\", \"Pertahun\"],\r\n      activeFilter: \"7 hari terakhir\",\r\n      lastUpdated: new Date().toLocaleString(),\r\n      searchQuery: '',\r\n      selectedCategory: '',\r\n      transactionCategories: ['Pembelian', 'Gaji', 'Tagihan'],\r\n      transactions: [], // Akan diambil dari user sebelumnya\r\n    };\r\n  },\r\n  computed: {\r\n    // Mengambil transaksi yang sesuai dengan pencarian dan kategori\r\n    filteredTransactions() {\r\n      return this.transactions.filter(transaction => {\r\n        const matchesQuery = this.searchQuery === '' || transaction.description.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n        const matchesCategory = this.selectedCategory === '' || transaction.category === this.selectedCategory;\r\n        return matchesQuery && matchesCategory;\r\n      });\r\n    },\r\n    // Total pemasukan\r\n    totalIncome() {\r\n      const income = this.transactions.filter(t => t.amount > 0);\r\n      return this.formatCurrency(income.reduce((acc, curr) => acc + curr.amount, 0));\r\n    },\r\n    // Total pengeluaran\r\n    totalExpense() {\r\n      const expense = this.transactions.filter(t => t.amount < 0);\r\n      return this.formatCurrency(expense.reduce((acc, curr) => acc + curr.amount, 0));\r\n    }\r\n  },\r\n  methods: {\r\n    setActiveFilter(filter) {\r\n      this.activeFilter = filter;\r\n    },\r\n    formatCurrency(amount) {\r\n      return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(amount);\r\n    },\r\n    getAmountClass(amount) {\r\n      return amount < 0 ? 'text-red-500' : 'text-green-500';\r\n    },\r\n    // Fungsi untuk mendapatkan transaksi dari user sebelumnya\r\n    async fetchUserTransactions() {\r\n      try {\r\n        // **Jika menggunakan backend API**\r\n        // const response = await fetch('/api/transactions'); \r\n        // this.transactions = await response.json();\r\n\r\n        // **Jika menggunakan Vuex atau state global**\r\n        // this.transactions = this.$store.state.transactions;\r\n\r\n        // **Contoh data transaksi dummy**\r\n        this.transactions = [\r\n          { id: 1, date: '2025-02-10', description: 'Pembelian Barang', amount: 1500000, category: 'Pembelian' },\r\n          { id: 2, date: '2025-02-12', description: 'Pembayaran Gaji', amount: -5000000, category: 'Gaji' },\r\n          { id: 3, date: '2025-02-15', description: 'Pembayaran Listrik', amount: -250000, category: 'Tagihan' }\r\n        ];\r\n      } catch (error) {\r\n        console.error(\"Gagal mengambil data transaksi:\", error);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchUserTransactions();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media (max-width: 768px) {\r\n  .text-2xl {\r\n    font-size: 1.25rem;\r\n  }\r\n  table {\r\n    font-size: 14px;\r\n  }\r\n  th, td {\r\n    padding: 12px 8px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}